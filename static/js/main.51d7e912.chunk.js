(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{14:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),o=a(6),s=a.n(o),r=(a(5),a(2)),i=a(7),l=a(8),p=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},u=new(function(){function e(t){var a=t.url,c=t.headers;Object(i.a)(this,e),this._url=a,this._headers=c}return Object(l.a)(e,[{key:"getUserData",value:function(){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:this._headers}).then(p)}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"cards"),{method:"GET",headers:this._headers}).then(p)}}]),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-20/",headers:{"content-type":"application/json",authorization:"a4e2a7e9-e2ca-4fbc-8dff-1e2c4b21f19a"}}),j=a(0);var m=function(){return Object(j.jsx)("header",{className:"header",children:Object(j.jsx)("a",{className:"link-opacity header__logo",href:"https://music.yandex.ru/album/4313323/track/34863025",target:"blank"})})},b=a(4);var _=function(e){return Object(j.jsxs)("li",{className:"element",children:[Object(j.jsx)("button",{className:"element__button-delete element__button-delete_active",type:"button","aria-label":"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(j.jsx)("img",{className:"element__image",src:e.link,alt:e.name,onClick:function(){e.onCardClick(e)}}),Object(j.jsxs)("div",{className:"element__container",children:[Object(j.jsx)("h2",{className:"element__title",children:e.name}),Object(j.jsxs)("div",{className:"element__container-like",children:[Object(j.jsx)("button",{className:"element__button-like",type:"button","aria-label":"\u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"}),Object(j.jsx)("span",{className:"element__like-counter",id:"like-counter",children:e.likes.length})]})]})]})};var d=function(e){return Object(j.jsxs)("section",{className:"loading ".concat(e.isLoading?"loading_active":""),children:[Object(j.jsx)("div",{className:"loading__picture",style:{backgroundImage:"url(../../".concat(e.loadingData.image),minWidth:"".concat(e.loadingData.width),minHeight:"".concat(e.loadingData.height)}}),Object(j.jsx)("h3",{className:"loading__title",children:e.loadingData.name})]})};var O=function(e){var t=Object(c.useState)("\u0418\u043c\u044f \u0430\u0432\u0442\u043e\u0440\u0430"),a=Object(r.a)(t,2),n=a[0],o=a[1],s=Object(c.useState)("\u0427\u0435\u043c \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u0440"),i=Object(r.a)(s,2),l=i[0],p=i[1],m=Object(c.useState)(""),O=Object(r.a)(m,2),h=O[0],f=O[1],x=Object(c.useState)([]),g=Object(r.a)(x,2),N=g[0],v=g[1],k=Object(c.useState)(!0),y=Object(r.a)(k,2),C=y[0],w=y[1],S=Object(c.useState)({image:"loading.gif",name:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430... \u043c\u044b \u0443\u0436\u0435 \u0431\u043b\u0438\u0437\u043a\u043e \ud83d\udc7d"}),E=Object(r.a)(S,2),L=E[0],D=E[1];return Object(c.useEffect)((function(){Promise.all([u.getUserData(),u.getAllCards()]).then((function(e){var t=Object(r.a)(e,2),a=t[0],c=t[1];o(a.name),p(a.about),f(a.avatar),v(c)})).then((function(){return w(!1)})).catch((function(e){console.log(e),setTimeout((function(){return D({image:"error.gif",width:"300px",height:"300px",name:"".concat(e,". \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a \u0438 \u043c\u044b \u0443\u0436\u0435 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u0434\u043e\u0440\u043e\u0436\u043d\u0438\u043a. \u041f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0435 \u043f\u043e\u043f\u043e\u0437\u0436\u0435 \ud83d\ude2d")})}),1e4)}))}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(d,{isLoading:C,loadingData:L}),Object(j.jsxs)("section",{className:"profile",children:[Object(j.jsxs)("div",{className:"profile__content",children:[Object(j.jsxs)("div",{className:"profile__avatar-container",children:[Object(j.jsx)("div",{className:"profile__avatar",style:{backgroundImage:"url(".concat(h,")")},"aria-label":"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(j.jsx)("button",{className:"profile__edit-button profile__edit-button_place_avatar","aria-label":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",type:"button",onClick:e.onEditAvatar})]}),Object(j.jsxs)("div",{className:"profile__container",children:[Object(j.jsxs)("div",{className:"profile__title-container",children:[Object(j.jsx)("h1",{className:"profile__title",children:n}),Object(j.jsx)("button",{className:"link-opacity profile__edit-button","aria-label":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",type:"button",onClick:e.onEditProfile})]}),Object(j.jsx)("p",{className:"profile__subtitle",children:l})]})]}),Object(j.jsx)("button",{className:"link-opacity profile__add-button","aria-label":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",type:"button",onClick:e.onAddPlace})]}),Object(j.jsx)("section",{className:"elements",children:Object(j.jsx)("ul",{className:"elements__container",children:N.map((function(t){return Object(j.jsx)(_,Object(b.a)(Object(b.a)({},t),{},{onCardClick:e.onCardClick}),t._id)}))})})]})};var h=function(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("p",{className:"footer__title",children:"\xa9 2020. \u0411\u043e\u0440\u0438\u0441\u0435\u043d\u043a\u043e \u0412\u0430\u043b\u0435\u0440\u0438\u0439"})})};var f=function(e){return Object(j.jsx)("section",{className:"popup popup_place_".concat(e.name," ").concat(e.isOpen?"popup_visible":"popup"),children:Object(j.jsxs)("div",{className:"popup__window popup__window_place_".concat(e.name),children:[Object(j.jsx)("button",{className:"link-opacity popup__close-button",type:"button","aria-label":"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onClose}),Object(j.jsx)("h2",{className:"popup__title",children:e.title}),Object(j.jsxs)("form",{className:"popup__form popup__form_place_".concat(e.name),name:e.name,noValidate:!0,children:[e.children,Object(j.jsx)("button",{className:"popup__save-button",type:"submit",children:e.saveButton})]})]})})};var x=function(e){return Object(j.jsx)("section",{className:"popup popup_place_image ".concat(e.isOpen?"popup_visible":"popup"),children:Object(j.jsxs)("figure",{className:"popup__window popup__window_place_image",children:[Object(j.jsx)("button",{className:"link-opacity popup__close-button",type:"button","aria-label":"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onClose}),Object(j.jsx)("img",{className:"popup__image",src:e.card.link,alt:e.card.name}),Object(j.jsx)("figcaption",{className:"popup__title popup__title_place_image",children:e.card.name})]})})};var g=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(!1),s=Object(r.a)(o,2),i=s[0],l=s[1],p=Object(c.useState)(!1),u=Object(r.a)(p,2),b=u[0],_=u[1],d=Object(c.useState)(!1),g=Object(r.a)(d,2),N=g[0],v=g[1],k=Object(c.useState)(!1),y=Object(r.a)(k,2),C=y[0],w=y[1];function S(){n(!1),l(!1),_(!1),v(!1)}return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(m,{}),Object(j.jsx)(O,{onEditAvatar:function(){_(!0)},onEditProfile:function(){n(!0)},onAddPlace:function(){l(!0)},onCardClick:function(e){w(e),v(!0)}}),Object(j.jsx)(h,{}),Object(j.jsxs)(f,{name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",saveButton:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:a,onClose:S,children:[Object(j.jsx)("input",{className:"popup__form-text popup__form-text_type_profile-name",type:"text",id:"name-profile",name:"name",required:!0,placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"40",autoComplete:"off"}),Object(j.jsx)("span",{className:"error error_place_name-error",id:"name-profile-error"}),Object(j.jsx)("input",{className:"popup__form-text popup__form-text_type_profile-about",type:"text",id:"about",name:"about",required:!0,placeholder:"\u041e \u0441\u0435\u0431\u0435",minLength:"2",maxLength:"200",autoComplete:"off"}),Object(j.jsx)("span",{className:"error error_place_about-error",id:"about-error"})]}),Object(j.jsxs)(f,{name:"element",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",saveButton:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",isOpen:i,onClose:S,children:[Object(j.jsx)("input",{className:"popup__form-text popup__form-text_type_element-name",type:"text",id:"name-card",name:"name",required:!0,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"2",maxLength:"30",autoComplete:"off"}),Object(j.jsx)("span",{className:"error error_place_image-name-error",id:"name-card-error"}),Object(j.jsx)("input",{className:"popup__form-text popup__form-text_type_image",type:"url",id:"link",name:"link",required:!0,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",autoComplete:"off"}),Object(j.jsx)("span",{className:"error error_place_image-error",id:"link-error"})]}),Object(j.jsxs)(f,{name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",saveButton:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:b,onClose:S,children:[Object(j.jsx)("input",{className:"popup__form-text popup__form-text_type_avatar",type:"url",id:"avatar",name:"avatar",required:!0,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",autoComplete:"off"}),Object(j.jsx)("span",{className:"error error_place_avatar-error",id:"avatar-error"})]}),Object(j.jsx)(f,{name:"delete-card",title:"\u0412\u044b \u0423\u0432\u0435\u0440\u0435\u043d\u044b?",saveButton:"\u0414\u0430"}),Object(j.jsx)(x,{card:C,isOpen:N,onClose:S})]})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))},5:function(e,t,a){}},[[14,1,2]]]);
//# sourceMappingURL=main.51d7e912.chunk.js.map